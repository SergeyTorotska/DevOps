4.1 Создать 3 репозитория в github или bitbucket с названием ab-haproxy, ab-logstash, ab-webui (все дальнейшие действия подразумевают выгрузку результатов в эти репозитории).

Важно: в решении необходимо использовать playbooks, а не ссылаться на репозиторий Galaxy.
       
        4.2 Создать в Vagrant виртуальную машину Ubuntu 18.04
        4.3 ab-haproxy
            4.3.1 Создать следующие роли в Ansible (можно пользоваться репозиторием Galaxy):
    • apt (добавление необходимых пакетов, обновление из репозиториев установленных по умолчанию пакетов)
    • ntp (обновить время, настроить синхронизацию времени по cron 1 раз в сутки с любого общедоступного сервера времени)
    • monit (установить и настроить monit для само-мониторинга виртуальной машины, правила можно составить любые, например: перезапуск haproxy)
    • haproxy (можно адаптировать роли из https://galaxy.ansible.com/list#/roles, haproxy будет использоваться в качестве балансировщика для веб-иинтерфейса 4.5.)
            4.3.2 На выходе Ansible так же должен быть сформирован ini-файл, содержащий любой уникальный ID виртуалки, например Packer ID, следующего формата:
            [general]
            uniqueID=
        4.4 ab-logstash
            4.4.1 Создать следующие роли в Ansible (можно пользоваться репозиторием Galaxy):
    • apt (добавление необходимых пакетов, обновление из репозиториев установленных по умолчанию пакетов)
    • ntp (обновить время, настроить синхронизацию времени по cron 1 раз в сутки с любого общедоступного сервера времени)
    • monit (установить и настроить monit для само-мониторинга виртуальной машины)
    • java (smola.java role (https://galaxy.ansible.com/list#/roles/1209) для установки openjdk-7-jdk)
    • logstash (https://www.elastic.co/downloads/logstash без локального syslog и web интерфейса)
    • elasticsearch (https://www.elastic.co/downloads/elasticsearch), со следующими опциями:
        ◦ установленный плагин royrusso/elasticsearch-HQ 
        ◦ установленный плагин mobz/elasticsearch-head
        ◦ установленный плагин elasticsearch/elasticsearch-cloud-aws/2.4.2 (данной версии)
        ◦ имя кластера "logstash"
        ◦ CORS enabled
            4.4.2 На выходе Ansible так же должен быть сформирован ini-файл, содержащий любой уникальный ID виртуалки, например Packer ID
        4.5 ab-webui
            4.5.1 Создать следующие роли в Ansible (можно пользоваться репозиторием Galaxy):
    • apt (добавление необходимых пакетов, обновление из репозиториев установленных по умолчанию пакетов)
    • ntp (обнвоить время, настроить синхронизацию времени по cron 1 раз в сутки с любого общедоступного сервера времени)
    • monit (установить и настроить monit для само-мониторинга виртуальной машины)
    • rsyslog (для трансляции любых стандартных системных логов)
    • kibana 3.x (нужна версия 3.x!)
    • nginx (настроить таким образом, чтобы по запросу к сайту по умолчанию отдавался интерфейс kibana, важно: т.к. kibana 3.x состоит из статических файлов, то не нужно устанавливать интерпретаторы, все должно работать только со статическим контентом)
            4.5.2 На выходе Ansible так же должен быть сформирован ini-файл, содержащий любой уникальный ID виртуалки, например Packer ID
